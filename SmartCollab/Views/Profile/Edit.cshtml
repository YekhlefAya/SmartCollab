@model SmartCollab.Models.User
@{
    ViewData["Title"] = "Modifier le profil";
    ViewData["Breadcrumb"] = new List<(string, string)> { ("Accueil", "/"), ("Mon Profil", "/Profile"), ("Modifier", "") };
}

<div class="max-w-3xl mx-auto">
    <div class="bg-white rounded-2xl shadow-sm p-8">
        <h2 class="text-xl font-bold text-gray-800 mb-6">Modifier le profil</h2>
        
        <form method="post" asp-action="Edit" asp-controller="Profile" enctype="multipart/form-data">
            <!-- Photo de profil -->
            <div class="mb-8">
                <label class="block text-sm font-medium text-gray-700 mb-4">Photo de profil</label>
                <div class="flex items-center space-x-6">
                    <img src="@(
                        string.IsNullOrEmpty(Model.ProfilePicturePath) 
                        ? $"https://ui-avatars.com/api/?name={Model.FirstName}+{Model.LastName}&size=96&background=6366f1&color=fff" 
                        : Url.Content(Model.ProfilePicturePath)
                    )" 
                        alt="Avatar" class="w-24 h-24 rounded-2xl">
                    <div>
                        <label class="cursor-pointer px-4 py-2 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition font-medium inline-flex items-center">
                            <i class="fas fa-upload mr-2"></i>
                            Changer la photo
                            <input type="file" name="avatar" class="hidden" accept="image/*">
                        </label>
                        <p class="text-sm text-gray-500 mt-2">JPG, PNG ou GIF. Max 2 Mo.</p>
                    </div>
                </div>
            </div>

            <!-- Nom et prénom -->
            <div class="grid md:grid-cols-2 gap-6 mb-6">
                <div>
                    <label for="firstName" class="block text-sm font-medium text-gray-700 mb-2">Prénom</label>
                    <input type="text" id="firstName" name="FirstName" value="@Model.FirstName"
                        class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition">
                </div>
                <div>
                    <label for="lastName" class="block text-sm font-medium text-gray-700 mb-2">Nom</label>
                    <input type="text" id="lastName" name="LastName" value="@Model.LastName"
                        class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition">
                </div>
            </div>

            <!-- Email -->
            <div class="mb-6">
                <label for="email" class="block text-sm font-medium text-gray-700 mb-2">Adresse e-mail</label>
                <input type="email" id="email" name="Email" value="@Model.Email"
                    class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition">
            </div>

            <!-- Téléphone -->
            <div class="mb-6">
                <label for="phone" class="block text-sm font-medium text-gray-700 mb-2">Téléphone</label>
                <input type="tel" id="phone" name="PhoneNumber" value="@Model.PhoneNumber"
                    class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition">
            </div>

            <!-- Poste -->
            <div class="mb-6">
                <label for="jobTitle" class="block text-sm font-medium text-gray-700 mb-2">Poste</label>
                <input type="text" id="jobTitle" name="Position" value="@Model.Position"
                    class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition">
            </div>

            <!-- Département -->
            <div class="mb-6">
                <label for="department" class="block text-sm font-medium text-gray-700 mb-2">Département</label>
                <select id="department" name="Department"
                    class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition">
                    <option value="Développement" selected="@(Model.Department == "Développement")">Développement</option>
                    <option value="Design" selected="@(Model.Department == "Design")">Design</option>
                    <option value="Marketing" selected="@(Model.Department == "Marketing")">Marketing</option>
                    <option value="Commercial" selected="@(Model.Department == "Commercial")">Commercial</option>
                    <option value="Ressources Humaines" selected="@(Model.Department == "Ressources Humaines")">Ressources Humaines</option>
                </select>
            </div>

            <!-- Localisation -->
            <div class="mb-6">
                <label for="location" class="block text-sm font-medium text-gray-700 mb-2">Localisation</label>
                <input type="text" id="location" name="City" value="@Model.City"
                    class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition">
            </div>

            <!-- Actions -->
            <div class="flex justify-end space-x-4">
                <a href="/Profile" class="px-6 py-3 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition font-medium">
                    Annuler
                </a>
                <button type="submit" class="px-6 py-3 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 transition font-medium">
                    <i class="fas fa-save mr-2"></i>Enregistrer
                </button>
            </div>
        </form>
    </div>
</div>
